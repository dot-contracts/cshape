<?xml version="1.0" encoding="utf-8"?>
<ResourceDictionary
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:controls="using:nexus.common.control"
    xmlns:local="using:nexus.common.control">

    <Style TargetType="controls:NxCtlStrip">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="controls:NxCtlStrip">
                    <Grid>
                        <Grid.Resources>
                            <local:StringToVisibilityConverter x:Key="StringToVisibilityConverter" />
                        </Grid.Resources>

                        <Grid x:Name="PromptContainer">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="*" />
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>

                            <!-- Prompt Label -->
                            <controls:NxLabel x:Name="PromptLabel"
                                              Text="{TemplateBinding Prompt}"
                                              Width="{TemplateBinding PromptWidth}"
                                              Visibility="{Binding Prompt, RelativeSource={RelativeSource TemplatedParent}, Converter={StaticResource StringToVisibilityConverter}}"
                                              Margin="2"
                                              Grid.Row="0"
                                              Grid.Column="0" />

                            <!-- Tab Host -->
                            <StackPanel x:Name="TabHost"
                                        Orientation="Horizontal"
                                        Grid.Row="1"
                                        Grid.Column="0"
                                        Margin="2"
                                        HorizontalAlignment="Left"
                                        VerticalAlignment="Center" />
                        </Grid>

                        <VisualStateManager.VisualStateGroups>
                            <VisualStateGroup x:Name="PromptStates">
                                <VisualState x:Name="Top">
                                    <VisualState.Setters>
                                        <Setter Target="PromptLabel.(Grid.Row)" Value="0" />
                                        <Setter Target="TabHost.(Grid.Row)" Value="1" />
                                        <Setter Target="PromptLabel.(Grid.Column)" Value="0" />
                                        <Setter Target="TabHost.(Grid.Column)" Value="0" />
                                    </VisualState.Setters>
                                </VisualState>
                                <VisualState x:Name="Left">
                                    <VisualState.Setters>
                                        <Setter Target="PromptLabel.(Grid.Row)" Value="0" />
                                        <Setter Target="TabHost.(Grid.Row)" Value="0" />
                                        <Setter Target="PromptLabel.(Grid.Column)" Value="0" />
                                        <Setter Target="TabHost.(Grid.Column)" Value="1" />
                                    </VisualState.Setters>
                                </VisualState>
                                <VisualState x:Name="Below">
                                    <VisualState.Setters>
                                        <Setter Target="TabHost.(Grid.Row)" Value="0" />
                                        <Setter Target="PromptLabel.(Grid.Row)" Value="1" />
                                        <Setter Target="PromptLabel.(Grid.Column)" Value="0" />
                                        <Setter Target="TabHost.(Grid.Column)" Value="0" />
                                    </VisualState.Setters>
                                </VisualState>
                            </VisualStateGroup>
                        </VisualStateManager.VisualStateGroups>
                    </Grid>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
</ResourceDictionary>
